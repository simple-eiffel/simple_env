<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIMPLE_ENV - Documentation</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>SIMPLE_ENV</h1>
        <p>SCOOP-compatible environment variable access via Win32 API</p>
    </header>

    <nav>
        <a href="#overview">Overview</a>
        <a href="#quick-start">Quick Start</a>
        <a href="#api">API Reference</a>
        <a href="#examples">Examples</a>
        <a href="https://github.com/simple-eiffel/simple_env">GitHub</a>
    </nav>

    <main>
        <section id="overview">
            <h2>Overview</h2>
            <p>SIMPLE_ENV provides SCOOP-compatible environment variable access for Eiffel applications. It uses direct Win32 API calls with inline C for reliable environment variable manipulation.</p>

            <h3>Key Features</h3>
            <ul>
                <li>Get environment variable values</li>
                <li>Set and unset environment variables</li>
                <li>Check if variables exist</li>
                <li>Expand environment strings (%VAR% syntax)</li>
                <li>Array-style access with [] operator</li>
                <li>SCOOP-compatible for concurrent programming</li>
            </ul>
        </section>

        <section id="quick-start">
            <h2>Quick Start</h2>
            <h3>Installation</h3>
            <pre><code>&lt;library name="simple_env" location="$SIMPLE_ENV/simple_env.ecf"/&gt;</code></pre>

            <h3>Environment Variable</h3>
            <pre><code>SIMPLE_ENV=/path/to/simple_env</code></pre>

            <h3>Basic Usage</h3>
            <pre><code>local
    env: SIMPLE_ENV
do
    create env

    -- Get a variable
    if attached env.get ("PATH") as path then
        print (path)
    end

    -- Set a variable
    env.set ("MY_VAR", "my_value")

    -- Expand strings
    print (env.expand ("%USERPROFILE%\Documents"))
end</code></pre>
        </section>

        <section id="api">
            <h2>API Reference</h2>

            <h3>SIMPLE_ENV</h3>
            <table>
                <tr>
                    <th>Feature</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>get (name)</code></td>
                    <td>Get environment variable value (Void if not set)</td>
                </tr>
                <tr>
                    <td><code>item [name]</code></td>
                    <td>Array-style access (alias for get)</td>
                </tr>
                <tr>
                    <td><code>has (name)</code></td>
                    <td>Check if variable exists</td>
                </tr>
                <tr>
                    <td><code>set (name, value)</code></td>
                    <td>Set environment variable</td>
                </tr>
                <tr>
                    <td><code>put (value, name)</code></td>
                    <td>Set variable (HASH_TABLE convention)</td>
                </tr>
                <tr>
                    <td><code>unset (name)</code></td>
                    <td>Remove environment variable</td>
                </tr>
                <tr>
                    <td><code>expand (string)</code></td>
                    <td>Expand %VAR% references in string</td>
                </tr>
                <tr>
                    <td><code>last_operation_succeeded</code></td>
                    <td>Status of last set/unset operation</td>
                </tr>
            </table>
        </section>

        <section id="examples">
            <h2>Examples</h2>

            <h3>Working with Paths</h3>
            <pre><code>local
    env: SIMPLE_ENV
    user_docs: STRING_32
do
    create env

    -- Expand user profile path
    user_docs := env.expand ("%USERPROFILE%\Documents")

    -- Get system path
    if attached env ["PATH"] as system_path then
        print ("System PATH: " + system_path + "%N")
    end
end</code></pre>

            <h3>Setting Configuration</h3>
            <pre><code>local
    env: SIMPLE_ENV
do
    create env

    env.set ("APP_CONFIG", "/etc/myapp/config.json")
    env.set ("APP_DEBUG", "true")

    if env.last_operation_succeeded then
        print ("Configuration set successfully%N")
    end
end</code></pre>
        </section>
    </main>

    <footer>
        <p>&copy; 2024-2025 Larry Rix. MIT License.</p>
        <p><a href="https://github.com/simple-eiffel/simple_env">GitHub</a></p>
    </footer>
</body>
</html>
